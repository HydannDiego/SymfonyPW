{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 py-24">

        <div class="lg:px-32 lg:py-32 flex items-center justify-center">
            <div>
                <h2 class="text-5xl mb-6 font-bold uppercase italic">Qui sommes-nous ?</h2>
                <p class="text-lg">La Société d’aménagement foncier et d’établissement rural (Safer) permet à tout
                    porteur de projet viable –qu’il soit agricole, artisanal, de service, résidentiel ou environnemental
                    – de s’installer en milieu rural.</p>
                <a href="/about"
                   class="mt-8 inline-block rounded-xl bg-green-600 text-lg px-8 py-3 hover:bg-green-600 hover:text-white duration-300">En
                    savoir plus</a>
            </div>
        </div>
        <div class="hidden lg:grid relative grid-cols-2">
            <div class="pt-24">
                <div class="relative w-full h-full">
                    <img src="/assets/img/photoAccueil/paysageAgriculture2.jpg"
                         class="absolute inset-0 w-full h-full object-cover -mt-6 z-10">
                </div>
            </div>
            <div class="relative">
                <img src="/assets/img/photoAccueil/paysageAgriculture3.jpg"
                     class="absolute inset-0 w-full h-full object-cover -ml-12">
            </div>
        </div>
    </div>

    {% if app.request.attributes.get('_route') == 'home' %}
        <div class="container mx-auto px-6 grid py-2">
            <div class="mx-auto max-w-lg text-center py-8">
                <h2 class="text-5xl mb-6 font-bold uppercase italic" id="categories">3 différents biens</h2>
                <p class="text-xl">Trois exemples de biens aléatoirement choisis !</p>
            </div>

            {% set biens = lesBiens %}
            {% set randomsBien = [] %}
            {% for i in 1..3 %}
                {% set randomB = random(biens) %}
                {% set randomsBien = randomsBien|merge([randomB]) %}
                {% set biens = biens|filter(v => v.id != randomB.id) %}
            {% endfor %}


            <div class="flex flex-wrap md:space-x-12 justify-center px-4">
                {% for unBien in randomsBien %}
                    <div class="w-80 h-90 rounded overflow-hidden shadow-lg my-9">
                        <img class="w-full h-48" src="/assets/img/photoSite/{{ unBien.image }}.jpg">
                        <div class="px-6 py-4">
                            <div class="font-bold text-xl mb-2 h-20">{{ unBien.titre }}</div>
                            <p class="text-gray-700 text-base h-32">
                                {{ unBien.description }}
                            </p>
                        </div>
                        <div class="px-6 pt-4 pb-2">
                            <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">{% if unBien.islocatif == null %} Achat {% else %} Location {% endif %}</span>
                            <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">Disponible</span>
                            <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">Récent</span>
                        </div>
                        <div class="flex justify-center">
                            <a href="{{ path('app_bien') }}/{{ unBien.id }}">
                            <button class="bg-green-600 hover:bg-blue-500 text-white font-semibold hover:text-white py-2 px-4 border hover:border-transparent rounded mb-2">
                                En savoir plus
                            </button>
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="relative w-full bg-green-600 py-32 my-12 lg:my-24">
            <div class="relative z-10 text-center text-white text-center mx-auto max-w-xl">
                <h1 class="text-3xl lg:text-7xl mb-4 font-bold uppercase italic">Vous accompagnez dans vos projets</h1>
                <a href="#"
                   class="inline-block rounded-full border-2 border-white text-lg px-8 py-3 hover:bg-white hover:text-gray-900">En
                    savoir plus</a>
            </div>
            <img src="/assets/img/photoAccueil/paysageAgriculture.jpg"
                 class="w-full h-full absolute inset-0 object-cover opacity-75">
        </div>
        <div class="mx-auto max-w-lg text-center py-24">
            <h2 class="text-5xl mb-6 font-bold uppercase italic" id="categories">2 différents types de biens</h2>
            <p class="text-xl">Vous pourrez notamment retrouver les biens en location ainsi que les biens disponibles à
                l'achat.</p>
        </div>
        <div class="container mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 py-24">
            <div class="hidden lg:grid relative grid-cols-2">
                <div class="pt-24">
                    <div class="relative w-full h-full">
                        <img src="/assets/img/photoAccueil/equipe.jpg"
                             class="absolute inset-0 w-full h-full object-cover -mt-6 z-10">
                    </div>
                </div>
                <div class="relative">
                    <img src="/assets/img/photoAccueil/equipe2.jpg"
                         class="absolute inset-0 w-full h-full object-cover -ml-12">
                </div>
            </div>
            <div class="lg:px-32 lg:py-32 flex items-center justify-center">
                <div>
                    <h2 class="text-5xl mb-6 font-bold uppercase italic">Une équipe en qui vous pouvez avoir
                        confiance</h2>
                    <p class="text-lg">Nous sommes trois à travailler sur ce projet, cliquer pour découvrir qui nous
                        sommes ! </p>
                    <a href="/about"
                       class="mt-8 inline-block rounded-xl bg-green-600 border-gray-600 text-lg px-8 py-3 hover:bg-green-600 hover:text-white duration-300">Découvrir
                        notre équipe</a>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}